<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Server Busy</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Orbitron:wght@400;900&display=swap');

  :root {
    --red: #ff2020;
    --orange: #ff8800;
    --dim: #1a0a00;
    --glow: #ff4400;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: #0a0500;
    color: #ff6600;
    font-family: 'Share Tech Mono', monospace;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
  }

  /* Scanline overlay */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0,0,0,0.15) 2px,
      rgba(0,0,0,0.15) 4px
    );
    pointer-events: none;
    z-index: 100;
  }

  /* Screen flicker */
  body::after {
    content: '';
    position: fixed;
    inset: 0;
    background: rgba(255,80,0,0.02);
    animation: flicker 0.1s infinite;
    pointer-events: none;
    z-index: 99;
  }

  @keyframes flicker {
    0%,100% { opacity: 1; }
    92% { opacity: 1; }
    93% { opacity: 0.4; }
    94% { opacity: 1; }
    96% { opacity: 0.6; }
    97% { opacity: 1; }
  }

  .container {
    text-align: center;
    position: relative;
    z-index: 10;
  }

  /* Fan SVG */
  .fan-wrap {
    position: relative;
    width: 200px;
    height: 200px;
    margin: 0 auto 40px;
  }

  .fan-glow {
    position: absolute;
    inset: -20px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(255,80,0,0.25) 0%, transparent 70%);
    animation: pulse-glow 0.5s ease-in-out infinite alternate;
  }

  @keyframes pulse-glow {
    from { transform: scale(0.95); opacity: 0.7; }
    to { transform: scale(1.05); opacity: 1; }
  }

  .fan-ring {
    position: absolute;
    inset: 0;
    border-radius: 50%;
    border: 2px solid rgba(255,100,0,0.4);
    animation: ring-pulse 1s ease infinite;
  }

  .fan-ring:nth-child(2) { animation-delay: 0.33s; inset: -10px; opacity: 0.3; }
  .fan-ring:nth-child(3) { animation-delay: 0.66s; inset: -20px; opacity: 0.15; }

  @keyframes ring-pulse {
    0% { transform: scale(1); opacity: 0.5; }
    100% { transform: scale(1.3); opacity: 0; }
  }

  .fan-svg {
    width: 200px;
    height: 200px;
    animation: spin 0.35s linear infinite;
    filter: drop-shadow(0 0 8px #ff4400) drop-shadow(0 0 20px #ff2200);
  }

  @keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  .status-badge {
    display: inline-block;
    background: var(--red);
    color: #fff;
    font-family: 'Orbitron', sans-serif;
    font-size: 0.6rem;
    font-weight: 900;
    letter-spacing: 0.3em;
    padding: 4px 12px;
    border-radius: 2px;
    margin-bottom: 20px;
    animation: badge-blink 0.8s step-end infinite;
    text-shadow: 0 0 8px rgba(255,255,255,0.8);
  }

  @keyframes badge-blink {
    0%,100% { opacity: 1; }
    50% { opacity: 0; }
  }

  h1 {
    font-family: 'Orbitron', sans-serif;
    font-size: clamp(2rem, 6vw, 4rem);
    font-weight: 900;
    letter-spacing: 0.05em;
    color: #fff;
    text-shadow: 0 0 20px var(--glow), 0 0 60px var(--red), 0 0 100px rgba(255,40,0,0.4);
    margin-bottom: 12px;
    animation: text-heat 2s ease-in-out infinite alternate;
  }

  @keyframes text-heat {
    from { text-shadow: 0 0 10px var(--glow), 0 0 30px var(--red); }
    to { text-shadow: 0 0 30px #fff, 0 0 60px var(--glow), 0 0 120px var(--red); }
  }

  .subtitle {
    color: #ff6600;
    font-size: 1rem;
    letter-spacing: 0.15em;
    margin-bottom: 50px;
    opacity: 0.8;
  }

  /* Temp bars */
  .stats {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px;
    width: 360px;
    margin: 0 auto 40px;
  }

  .stat {
    background: rgba(255,80,0,0.05);
    border: 1px solid rgba(255,80,0,0.3);
    padding: 12px 16px;
    position: relative;
    overflow: hidden;
  }

  .stat-label {
    font-size: 0.65rem;
    letter-spacing: 0.2em;
    color: #ff8800;
    margin-bottom: 6px;
  }

  .stat-value {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.4rem;
    color: var(--red);
    text-shadow: 0 0 10px var(--red);
  }

  .stat-bar {
    height: 3px;
    background: rgba(255,80,0,0.15);
    margin-top: 8px;
    border-radius: 2px;
    overflow: hidden;
  }

  .stat-bar-fill {
    height: 100%;
    background: linear-gradient(90deg, #ff4400, #ff0000);
    box-shadow: 0 0 6px #ff2200;
    animation: bar-fill 3s ease-in-out infinite alternate;
    border-radius: 2px;
  }

  .stat:nth-child(1) .stat-bar-fill { width: 94%; animation-duration: 2.1s; }
  .stat:nth-child(2) .stat-bar-fill { width: 88%; animation-duration: 1.7s; }
  .stat:nth-child(3) .stat-bar-fill { width: 100%; animation-duration: 2.5s; }
  .stat:nth-child(4) .stat-bar-fill { width: 76%; animation-duration: 1.9s; }

  @keyframes bar-fill {
    0% { filter: brightness(0.8); }
    100% { filter: brightness(1.3); }
  }

  /* Terminal log */
  .log {
    width: 400px;
    max-width: 90vw;
    background: rgba(0,0,0,0.6);
    border: 1px solid rgba(255,80,0,0.2);
    padding: 14px;
    text-align: left;
    font-size: 0.7rem;
    color: #ff6600;
    line-height: 1.8;
    margin: 0 auto;
    height: 110px;
    overflow: hidden;
    position: relative;
  }

  .log-line {
    opacity: 0;
    animation: log-appear 0.1s forwards;
  }

  @keyframes log-appear {
    to { opacity: 1; }
  }

  .log-line.warn { color: var(--red); }
  .log-line.ok { color: #88ff44; }

  /* Background heat shimmer lines */
  .heat-lines {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 1;
  }

  .heat-line {
    position: absolute;
    left: 0; right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255,80,0,0.1), transparent);
    animation: heat-rise linear infinite;
  }

  @keyframes heat-rise {
    from { transform: translateY(100vh); opacity: 0; }
    10% { opacity: 1; }
    90% { opacity: 1; }
    to { transform: translateY(-100px); opacity: 0; }
  }
</style>
</head>
<body>

<div class="heat-lines" id="heatLines"></div>

<div class="container">
  <div class="status-badge">● CRITICAL LOAD</div>

  <div class="fan-wrap">
    <div class="fan-glow"></div>
    <div class="fan-ring"></div>
    <div class="fan-ring"></div>
    <div class="fan-ring"></div>
    <svg class="fan-svg" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
      <!-- Hub -->
      <circle cx="100" cy="100" r="14" fill="#ff4400" opacity="0.9"/>
      <circle cx="100" cy="100" r="7" fill="#ff8800"/>
      <!-- Blades -->
      <g>
        <ellipse cx="100" cy="60" rx="18" ry="38" fill="rgba(255,100,20,0.85)" transform="rotate(0 100 100)"/>
        <ellipse cx="100" cy="60" rx="18" ry="38" fill="rgba(255,100,20,0.85)" transform="rotate(45 100 100)"/>
        <ellipse cx="100" cy="60" rx="18" ry="38" fill="rgba(255,80,10,0.85)" transform="rotate(90 100 100)"/>
        <ellipse cx="100" cy="60" rx="18" ry="38" fill="rgba(255,80,10,0.85)" transform="rotate(135 100 100)"/>
        <ellipse cx="100" cy="60" rx="18" ry="38" fill="rgba(255,60,0,0.85)" transform="rotate(180 100 100)"/>
        <ellipse cx="100" cy="60" rx="18" ry="38" fill="rgba(255,60,0,0.85)" transform="rotate(225 100 100)"/>
        <ellipse cx="100" cy="60" rx="18" ry="38" fill="rgba(255,80,20,0.85)" transform="rotate(270 100 100)"/>
        <ellipse cx="100" cy="60" rx="18" ry="38" fill="rgba(255,80,20,0.85)" transform="rotate(315 100 100)"/>
      </g>
      <!-- Rim -->
      <circle cx="100" cy="100" r="96" fill="none" stroke="rgba(255,100,30,0.5)" stroke-width="3"/>
      <circle cx="100" cy="100" r="90" fill="none" stroke="rgba(255,60,0,0.2)" stroke-width="1"/>
    </svg>
  </div>

  <h1>SERVER BUSY</h1>
  <p class="subtitle">THERMAL LIMIT REACHED — PLEASE STAND BY</p>

  <div class="stats">
    <div class="stat">
      <div class="stat-label">CPU TEMP</div>
      <div class="stat-value" id="cpuTemp">97°C</div>
      <div class="stat-bar"><div class="stat-bar-fill"></div></div>
    </div>
    <div class="stat">
      <div class="stat-label">CPU LOAD</div>
      <div class="stat-value" id="cpuLoad">99%</div>
      <div class="stat-bar"><div class="stat-bar-fill"></div></div>
    </div>
    <div class="stat">
      <div class="stat-label">FAN RPM</div>
      <div class="stat-value" id="fanRpm">4820</div>
      <div class="stat-bar"><div class="stat-bar-fill"></div></div>
    </div>
    <div class="stat">
      <div class="stat-label">MEMORY</div>
      <div class="stat-value" id="memLoad">87%</div>
      <div class="stat-bar"><div class="stat-bar-fill"></div></div>
    </div>
  </div>

  <div class="log" id="log"></div>
</div>

<!-- Fan noise audio (Web Audio API) -->
<script>
// Generate fan noise using Web Audio API
(function() {
  let ctx, started = false;

  function startFanNoise() {
    if (started) return;
    started = true;
    ctx = new (window.AudioContext || window.webkitAudioContext)();

    // White noise buffer
    const bufferSize = ctx.sampleRate * 2;
    const buffer = ctx.createBuffer(1, bufferSize, ctx.sampleRate);
    const data = buffer.getChannelData(0);
    for (let i = 0; i < bufferSize; i++) data[i] = Math.random() * 2 - 1;

    const source = ctx.createBufferSource();
    source.buffer = buffer;
    source.loop = true;

    // Band-pass filter to make it sound like a fan whirr
    const bandpass = ctx.createBiquadFilter();
    bandpass.type = 'bandpass';
    bandpass.frequency.value = 1800;
    bandpass.Q.value = 0.4;

    const bandpass2 = ctx.createBiquadFilter();
    bandpass2.type = 'bandpass';
    bandpass2.frequency.value = 600;
    bandpass2.Q.value = 0.6;

    // Low-frequency whirr oscillator (blade rotation hum)
    const osc = ctx.createOscillator();
    osc.frequency.value = 80;
    osc.type = 'sawtooth';
    const oscGain = ctx.createGain();
    oscGain.gain.value = 0.04;

    const noiseGain = ctx.createGain();
    noiseGain.gain.value = 0.18;

    const masterGain = ctx.createGain();
    masterGain.gain.value = 0.6;

    source.connect(bandpass);
    source.connect(bandpass2);
    bandpass.connect(noiseGain);
    bandpass2.connect(noiseGain);
    noiseGain.connect(masterGain);

    osc.connect(oscGain);
    oscGain.connect(masterGain);

    masterGain.connect(ctx.destination);

    source.start();
    osc.start();

    // Slight RPM variation (flutter)
    setInterval(() => {
      osc.frequency.setTargetAtTime(75 + Math.random() * 15, ctx.currentTime, 0.3);
    }, 500);
  }

  document.addEventListener('click', startFanNoise, { once: true });
  document.addEventListener('keydown', startFanNoise, { once: true });
  // Try auto-start after short delay
  setTimeout(() => {
    try { startFanNoise(); } catch(e) {}
  }, 500);
})();

// Animated stats
const cpuTemp = document.getElementById('cpuTemp');
const cpuLoad = document.getElementById('cpuLoad');
const fanRpm = document.getElementById('fanRpm');
const memLoad = document.getElementById('memLoad');

setInterval(() => {
  cpuTemp.textContent = (95 + Math.floor(Math.random() * 6)) + '°C';
  cpuLoad.textContent = (96 + Math.floor(Math.random() * 4)) + '%';
  fanRpm.textContent = (4600 + Math.floor(Math.random() * 600));
  memLoad.textContent = (84 + Math.floor(Math.random() * 8)) + '%';
}, 800);

// Terminal log
const logEl = document.getElementById('log');
const logMessages = [
  { text: '[THERMAL] CPU temp exceeding safe threshold', cls: 'warn' },
  { text: '[FAN] Spinning up to max RPM...', cls: '' },
  { text: '[KERNEL] Throttling CPU to prevent damage', cls: 'warn' },
  { text: '[MEM] Swap usage at 94%', cls: 'warn' },
  { text: '[QUEUE] 1,482 requests pending', cls: '' },
  { text: '[FAN] RPM stabilized at 4800+', cls: 'ok' },
  { text: '[THERMAL] Still above 95°C — retrying...', cls: 'warn' },
  { text: '[SYS] Cooling subsystem: OVERLOADED', cls: 'warn' },
  { text: '[NET] Dropping packets — buffer full', cls: 'warn' },
  { text: '[FAN] Acoustic limit reached: WHIRRING', cls: '' },
  { text: '[CPU] Core 7: 100% · Core 8: 100%', cls: 'warn' },
  { text: '[SYS] Please retry your request shortly', cls: 'ok' },
];
let logIdx = 0;
const lines = [];

function addLogLine() {
  const msg = logMessages[logIdx % logMessages.length];
  logIdx++;
  const ts = new Date().toTimeString().slice(0,8);
  const div = document.createElement('div');
  div.className = 'log-line' + (msg.cls ? ' ' + msg.cls : '');
  div.textContent = `${ts} ${msg.text}`;
  logEl.appendChild(div);
  lines.push(div);
  if (lines.length > 6) {
    lines[0].remove();
    lines.shift();
  }
}

addLogLine();
setInterval(addLogLine, 1200);

// Heat shimmer lines
const heatEl = document.getElementById('heatLines');
for (let i = 0; i < 12; i++) {
  const line = document.createElement('div');
  line.className = 'heat-line';
  const dur = 3 + Math.random() * 4;
  const delay = Math.random() * 5;
  line.style.cssText = `animation-duration:${dur}s;animation-delay:${delay}s;top:${Math.random()*100}%`;
  heatEl.appendChild(line);
}
</script>
</body>
</html>
